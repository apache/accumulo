<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<component xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/component/1.1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/component/1.1.2 http://maven.apache.org/xsd/component-1.1.2.xsd">
  <dependencySets>
    <dependencySet>
      <outputDirectory>lib</outputDirectory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <useProjectArtifact>false</useProjectArtifact>
      <outputFileNameMapping>${artifact.artifactId}${dashClassifier?}.${artifact.extension}</outputFileNameMapping>
      <useTransitiveDependencies>false</useTransitiveDependencies>
      <includes>
        <!-- if you update this list, you should also update the assembly
        pom.xml section which executes the maven-dependency-plugin to generate a
        version listing for packaged artifacts -->
        <include>${groupId}:${artifactId}-*</include>
        <include>com.beust:jcommander</include>
        <include>com.google.code.gson:gson</include>
        <include>com.google.guava:guava</include>
        <include>com.google.protobuf:protobuf-java</include>
        <include>commons-cli:commons-cli</include>
        <include>commons-codec:commons-codec</include>
        <include>commons-collections:commons-collections</include>
        <include>commons-io:commons-io</include>
        <include>commons-lang:commons-lang</include>
        <include>commons-logging:commons-logging</include>
        <include>commons-configuration:commons-configuration</include>
        <include>javax.servlet:javax.servlet-api</include>
        <include>jline:jline</include>
        <include>org.apache.commons:commons-math3</include>
        <include>org.apache.commons:commons-vfs2</include>
        <include>org.apache.htrace:htrace-core4</include>
        <include>org.apache.thrift:libthrift</include>
        <include>org.eclipse.jetty:jetty-http</include>
        <include>org.eclipse.jetty:jetty-io</include>
        <include>org.eclipse.jetty:jetty-security</include>
        <include>org.eclipse.jetty:jetty-server</include>
        <include>org.eclipse.jetty:jetty-servlet</include>
        <include>org.eclipse.jetty:jetty-util</include>
        <include>org.apache.htrace:htrace-core</include>
        <include>org.slf4j:slf4j-api</include>
        <include>org.slf4j:slf4j-log4j12</include>
      </includes>
      <excludes>
        <exclude>${groupId}:${artifactId}-docs</exclude>
      </excludes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>docs</outputDirectory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <useProjectArtifact>false</useProjectArtifact>
      <outputFileNameMapping>${artifactId}_user_manual.${artifact.extension}</outputFileNameMapping>
      <useTransitiveDependencies>false</useTransitiveDependencies>
      <includes>
        <include>${groupId}:${artifactId}-docs:html:user-manual</include>
      </includes>
    </dependencySet>
  </dependencySets>
  <fileSets>
    <fileSet>
      <directory>bin</directory>
      <directoryMode>0755</directoryMode>
      <fileMode>0755</fileMode>
    </fileSet>
    <fileSet>
      <directory>../examples/simple</directory>
      <outputDirectory>examples/simple</outputDirectory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <includes>
        <include>src/main/**</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>./</directory>
      <outputDirectory>lib/ext</outputDirectory>
      <directoryMode>0755</directoryMode>
      <excludes>
        <exclude>*/**</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <directory>./</directory>
      <outputDirectory>logs</outputDirectory>
      <directoryMode>0700</directoryMode>
      <excludes>
        <exclude>*/**</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <directory>../docs/src/main/resources</directory>
      <outputDirectory>docs</outputDirectory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <includes>
        <include>*.html</include>
        <include>*.css</include>
        <include>examples/*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../docs/target</directory>
      <outputDirectory>docs</outputDirectory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <includes>
        <include>config.html</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>conf</directory>
      <directoryMode>0755</directoryMode>
      <fileMode>0755</fileMode>
      <includes>
        <include>**/*.sh</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>conf</directory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <excludes>
        <exclude>**/*.sh</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <!-- preserve old behavior of extra copy in conf -->
      <directory>conf/templates</directory>
      <outputDirectory>conf</outputDirectory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <includes>
        <include>accumulo.policy.example</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>target/example-configs</directory>
      <outputDirectory>conf/examples</outputDirectory>
      <directoryMode>0755</directoryMode>
      <fileMode>0755</fileMode>
      <includes>
        <include>**/*.sh</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>target/example-configs</directory>
      <outputDirectory>conf/examples</outputDirectory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <excludes>
        <exclude>**/*.sh</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <directory>../test</directory>
      <directoryMode>0755</directoryMode>
      <fileMode>0755</fileMode>
      <includes>
        <include>**/*.sh</include>
        <include>**/*.py</include>
        <include>**/*.pl</include>
      </includes>
      <excludes>
        <exclude>src/**</exclude>
        <exclude>target/**</exclude>
        <exclude>**/continuous-env.sh</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <directory>../test</directory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <excludes>
        <exclude>**/.*/**</exclude>
        <exclude>pom.xml</exclude>
        <exclude>src/**</exclude>
        <exclude>target/**</exclude>
        <exclude>**/*.sh</exclude>
        <exclude>**/*.py</exclude>
        <exclude>**/*.pl</exclude>
        <exclude>**/*.pyc</exclude>
        <exclude>**/*.pyo</exclude>
        <exclude>**/walkers.txt</exclude>
        <exclude>**/ingesters.txt</exclude>
        <exclude>**/randomwalk/conf/logger.xml</exclude>
        <exclude>**/randomwalk/conf/randomwalk.conf</exclude>
        <exclude>**/randomwalk/conf/walkers</exclude>
      </excludes>
    </fileSet>
    <!-- Lift generated thrift proxy code into its own directory -->
    <fileSet>
      <directory>../proxy/target</directory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <outputDirectory>proxy/thrift</outputDirectory>
      <includes>
        <include>gen-cpp/**</include>
        <include>gen-py/**</include>
        <include>gen-rb/**</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../proxy</directory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <includes>
        <include>README</include>
        <include>proxy.properties</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../proxy/examples</directory>
      <directoryMode>0755</directoryMode>
      <fileMode>0755</fileMode>
      <includes>
        <include>**/*.py</include>
        <include>**/*.rb</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../proxy/examples</directory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <excludes>
        <exclude>**/*.py</exclude>
        <exclude>**/*.rb</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <directory>../proxy/src/main/thrift</directory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <outputDirectory>proxy/thrift</outputDirectory>
      <includes>
        <include>*.thrift</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../</directory>
      <fileMode>0644</fileMode>
      <includes>
        <include>README.md</include>
        <include>INSTALL.md</include>
        <include>BUILD.md</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>target</directory>
      <outputDirectory>lib</outputDirectory>
      <fileMode>0644</fileMode>
      <includes>
        <include>VERSIONS</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>src/main/resources</directory>
      <directoryMode>0755</directoryMode>
      <fileMode>0644</fileMode>
      <outputDirectory>.</outputDirectory>
      <includes>
        <include>LICENSE</include>
        <include>NOTICE</include>
      </includes>
    </fileSet>
  </fileSets>
</component>
